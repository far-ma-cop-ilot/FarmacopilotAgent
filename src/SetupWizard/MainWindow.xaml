<Window x:Class="SetupWizard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Farmacopilot - Asistente de Instalación" 
        Height="520" Width="720"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Icon="/Resources/icon.ico">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Título -->
        <TextBlock Grid.Row="0" Text="Asistente de Instalación de Farmacopilot" 
                   FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,30"/>

        <!-- PANTALLA 1: Bienvenida -->
        <StackPanel x:Name="WelcomePanel" Grid.Row="1">
            <TextBlock Text="Bienvenido al instalador del agente de Farmacopilot" FontSize="16" TextWrapping="Wrap" Margin="0,0,0,20"/>
            <TextBlock Text="ID de la farmacia (obligatorio):" FontWeight="Bold"/>
            <TextBox x:Name="FarmaciaIdTextBox" Width="300" Height="30" Margin="0,5,0,20" FontSize="14"/>
            <TextBlock x:Name="StatusLabel" Text="Realizando comprobaciones del sistema..." Foreground="Blue" FontSize="14"/>
        </StackPanel>

        <!-- PANTALLA 2: Detección ERP -->
        <StackPanel x:Name="ErpDetectionPanel" Grid.Row="1" Visibility="Collapsed">
            <TextBlock Text="Detectando sistema ERP instalado..." FontSize="16" Margin="0,0,0,20"/>
            <TextBlock x:Name="ErpStatusLabel" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="DarkGreen"/>
        </StackPanel>

        <!-- PANTALLA 3: Credenciales BD -->
        <StackPanel x:Name="DbCredsPanel" Grid.Row="1" Visibility="Collapsed">
            <TextBlock Text="Credenciales de acceso a la base de datos" FontSize="16" Margin="0,0,0,20"/>
            <TextBlock Text="Usuario:" FontWeight="Bold"/>
            <TextBox x:Name="UsernameTextBox" Width="300" Height="30" Margin="0,5,0,10"/>
            <TextBlock Text="Contraseña:" FontWeight="Bold"/>
            <PasswordBox x:Name="PasswordBox" Width="300" Height="30" Margin="0,5,0,20"/>
        </StackPanel>

        <!-- PANTALLA 4: Configuración de exportación -->
        <StackPanel x:Name="ExportConfigPanel" Grid.Row="1" Visibility="Collapsed">
            <TextBlock Text="Seleccione las tablas a exportar diariamente" FontSize="16" Margin="0,0,0,20"/>
            <CheckBox x:Name="VentasCheckBox" Content="Ventas y facturación" IsChecked="True" Margin="0,10"/>
            <CheckBox x:Name="StockCheckBox" Content="Stock y existencias" IsChecked="True" Margin="0,10"/>
            <CheckBox x:Name="ComprasCheckBox" Content="Compras y albaranes" IsChecked="True" Margin="0,10"/>
            <TextBlock Text="La exportación se ejecutará automáticamente todos los días a las 03:00" 
                       Foreground="Gray" Margin="0,30,0,0" FontStyle="Italic"/>
        </StackPanel>

        <!-- PANTALLA 5: Instalando -->
        <StackPanel x:Name="InstallPanel" Grid.Row="1" Visibility="Collapsed">
            <TextBlock Text="Instalando el agente de Farmacopilot..." FontSize="18" Margin="0,0,0,20"/>
            <ProgressBar x:Name="InstallProgressBar" Height="20" Margin="0,20" Minimum="0" Maximum="100"/>
            <TextBlock x:Name="InstallStatusLabel" Text="Preparando archivos..." HorizontalAlignment="Center" Margin="0,10"/>
            <TextBlock x:Name="ProgressPercentLabel" Text="0%" HorizontalAlignment="Center" FontWeight="Bold"/>
        </StackPanel>

        <!-- Botones inferior -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,30,0,0">
            <Button Content="Cancelar" Width="100" Height="40" Margin="10,0" Click="CancelButton_Click"/>
            <Button x:Name="NextButton" Content="Siguiente →" Width="120" Height="40" Margin="10,0" 
                    Click="NextButton_Click" IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>
